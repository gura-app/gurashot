import(jpeg)
import(cairo)

[width, height] = int([127, 89] * 600 / 25.4)
printf('%d x %d\n', width, height)
img = image(`rgba, width, height, `white)
nLines = 20
img.cairo {|cr|
	repeat (nLines) {|i|
		y = (nLines - i) * 10
		cr.move_to(0, y)
		cr.line_to(width, y)
		if (i % 10 == 0) {
			cr.set_line_width(4)
			cr.set_source_rgb(.6, .6, 1)
		} elsif (i % 5 == 0) {
			cr.set_line_width(2)
			cr.set_source_rgb(.6, .6, 1)
		} else {
			cr.set_line_width(1)
			cr.set_source_rgb(.6, .6, 1)
		}
		cr.stroke()
	}
	repeat (nLines) {|i|
		y = height - (nLines - i) * 10
		cr.move_to(0, y)
		cr.line_to(width, y)
		if (i % 10 == 0) {
			cr.set_line_width(4)
			cr.set_source_rgb(.6, .6, 1)
		} elsif (i % 5 == 0) {
			cr.set_line_width(2)
			cr.set_source_rgb(.6, .6, 1)
		} else {
			cr.set_line_width(1)
			cr.set_source_rgb(.6, .6, 1)
		}
		cr.stroke()
	}
	repeat (nLines) {|i|
		x = (nLines - i) * 10
		cr.move_to(x, 0)
		cr.line_to(x, height)
		if (i % 10 == 0) {
			cr.set_line_width(4)
			cr.set_source_rgb(.6, .6, 1)
		} elsif (i % 5 == 0) {
			cr.set_line_width(2)
			cr.set_source_rgb(.6, .6, 1)
		} else {
			cr.set_line_width(1)
			cr.set_source_rgb(.6, .6, 1)
		}
		cr.stroke()
	}
	cr.set_source_rgb(.6, .6, 1)
	repeat (nLines) {|i|
		x = width - (nLines - i) * 10
		cr.move_to(x, 0)
		cr.line_to(x, height)
		if (i % 10 == 0) {
			cr.set_line_width(4)
		} elsif (i % 5 == 0) {
			cr.set_line_width(2)
		} else {
			cr.set_line_width(1)
		}
		cr.stroke()
	}
}
img.write('a.jpg')
